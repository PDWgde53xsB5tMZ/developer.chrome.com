{% extends "layouts/base.njk" %}

{# Include the single-post.css stylesheet inline in the page head #}
{% InlineCss '/css/single-post.css' %}

{% block title_bar %}
  {# Enable sharing and include the breadcrumbs partial at the top of the page #}
  {% set sharingEnabled = true %}
  {% include 'partials/breadcrumbs.njk' %}
{% endblock %}

{# Set the Table of Contents (ToC) contents variable to the parsed and safe ToC HTML #}
{% set tocContents %}
  {{- content | toc | safe -}}
{% endset %}

{% block content %}
  {# If there is a hero image, display it centered #}
  {% if hero %}
    <div class="display-flex justify-content-center lg:pad-left-400 lg:pad-right-400">
      {% Img
        class="hero-image object-fit-cover height-full",
        src=hero,
        alt=alt,
        width="960",
        height="480",
        sizes="(min-width: 960px) 960px, 100vw",
        fetchpriority="high"
      %}
    </div>

  {% elseif hero_youtube_id %}
    {# If there is a YouTube video ID, display the video centered #}
    <div class="display-flex justify-content-center lg:pad-left-400 lg:pad-right-400">
      <div class="measure-960 width-full rounded-lg overflow-hidden">
        {% YouTube id=hero_youtube_id %}
      </div>
    </div>
  {% endif %}

  {# Wrap the article and ToC in a flex container for proper alignment on desktop #}
  <div class="display-flex gap-top-300 lg:gap-top-400">
    <div class="display-flex justify-content-center width-full">
      <article class="post stack measure-long width-full pad-left-400 pad-right-400">
        {# If the post is outdated, display the outdated banner #}
        {% if is_outdated %}
          {% include 'partials/post-banner.njk' %}
        {% endif %}

        {# Include the post headline partial #}
        <div class="stack flow-space-200">
          {% include 'partials/post-headline.njk' %}
        </div>

        {# If there are authors, display the author list #}
        {% if authors %}
          <div class="stack-exception-600 lg:stack-exception-700">
            {% include 'partials/post-authors.njk' %}
          </div>
        {% endif %}

        {# Include the ToC inner partial #}
        {% include 'partials/toc-inner.njk' %}
        {% include 'partials/draft.njk' %}

        {# Display the post content #}
        <div class="stack stack--block
